<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Search - Unitree Curriculum</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    input { width: 300px; padding: 8px; margin-bottom: 10px; }
    ul { list-style-type: none; padding-left: 0; }
    li { margin-bottom: 5px; }
  </style>
</head>
<body>
  <h1>Search Unitree Curriculum</h1>
  <input type="text" id="searchBox" placeholder="Search topics..." autofocus />
  <ul id="results"></ul>

  <script>
    let pages = [];

    fetch('search_index.json')
      .then(response => response.json())
      .then(data => { pages = data; });

    const searchBox = document.getElementById('searchBox');
    const results = document.getElementById('results');

    searchBox.addEventListener('input', () => {
      const query = searchBox.value.toLowerCase().trim();
      results.innerHTML = '';

      if (!query) return;

      const filtered = pages.filter(page =>
        page.title.toLowerCase().includes(query)
      );

      if (filtered.length === 0) {
        results.innerHTML = '<li>No results found</li>';
        return;
      }

      filtered.forEach(page => {
        const li = document.createElement('li');
        const a = document.createElement('a');
        a.href = page.url;
        a.textContent = page.title;
        li.appendChild(a);
        results.appendChild(li);
      });
    });
  </script>
</body>
</html>
